import{a as z}from"./chunk-K6MDAUMQ.js";import{a as N}from"./chunk-KD2IJGWA.js";import{d as M,e as T,f as V,h as F,i as A,t as j,u as U,w as D}from"./chunk-PGUYAPD4.js";import{Ab as t,Bb as n,Cb as c,Gb as w,Lb as v,Nb as d,Vb as l,Wb as h,Xb as g,_a as C,bc as y,cc as E,db as s,dc as _,eb as b,fc as O,gc as L,h as k,na as S,tb as f,vb as a,wa as p,xa as u,xb as I,ya as x}from"./chunk-7ZC2CAVG.js";var G=i=>({"mobile-view":i}),H=i=>({"border-b":i}),R=()=>({exact:!0}),$=i=>["/event/",i];function q(i,o){i&1&&(x(),t(0,"svg",27),c(1,"path",28),n())}function J(i,o){i&1&&(x(),t(0,"svg",27),c(1,"path",29),n())}function K(i,o){if(i&1){let e=w();t(0,"div",30)(1,"ul",31)(2,"li")(3,"a",32),v("click",function(){p(e);let m=d();return u(m.open=!1)}),c(4,"i",9),l(5," Home "),n()(),t(6,"li")(7,"a",33),v("click",function(){p(e);let m=d();return u(m.open=!1)}),c(8,"i",11),l(9," Events "),n()(),t(10,"li")(11,"a",34),v("click",function(){p(e);let m=d();return u(m.open=!1)}),c(12,"i",13),l(13," Forum "),n()(),t(14,"li")(15,"a",35),v("click",function(){p(e);let m=d();return u(m.open=!1)}),c(16,"i",15),l(17," Profile "),n()()()()}i&2&&(s(3),a("routerLinkActiveOptions",E(1,R)))}function Q(i,o){i&1&&(t(0,"div",36),l(1,"No events available."),n())}function W(i,o){if(i&1){let e=w();t(0,"div",39),c(1,"img",40),t(2,"div",41)(3,"h3",42),l(4),n(),t(5,"p",43),l(6),O(7,"date"),n(),t(8,"p",43),l(9),n(),t(10,"div",44)(11,"span",45),c(12,"i",46),l(13),n(),t(14,"button",47),v("click",function(){let m=p(e).$implicit,B=d(2);return u(B.toggleInterest(m))}),l(15),n()()()()}if(i&2){let e=o.$implicit,r=d(2);s(),a("src",e.imageUrl||"path/to/default-event-image.jpg",C),s(),a("routerLink",_(14,$,e.id)),s(2),h(e.name),s(2),g("Date: ",L(7,11,e.dateTime,"medium"),""),s(3),h(e.eventType),s(4),g(" ",(e.interestedMembers==null?null:e.interestedMembers.length)||0," "),s(),I("bg-success",r.isInterested(e))("bg-base-300",!r.isInterested(e)),s(),g(" ",r.isInterested(e)?"Interested":"Show Interest"," ")}}function X(i,o){if(i&1&&(t(0,"div",37),f(1,W,16,16,"div",38),n()),i&2){let e=d();s(),a("ngForOf",e.events)}}var P=class i{constructor(o,e){this.authService=o;this.eventService=e}events=[];open=!1;ngOnInit(){this.fetchEvents()}fetchEvents(){return k(this,null,function*(){this.events=yield this.eventService.getAllEvents()})}isInterested(o){let e=this.authService.getUserId();return o.interestedMembers&&o.interestedMembers.includes(e)}toggleInterest(o){let e=this.authService.getUserId();e&&this.eventService.toggleUserInterest(o.id,e).then(()=>{o.interestedMembers&&o.interestedMembers.includes(e)?o.interestedMembers=o.interestedMembers.filter(r=>r!==e):o.interestedMembers=[...o.interestedMembers||[],e]}).catch(r=>{console.error("Error toggling interest:",r)})}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||i)(b(N),b(z))};static \u0275cmp=S({type:i,selectors:[["app-overview"]],standalone:!0,features:[y],decls:41,vars:13,consts:[[1,"flex","flex-col","h-screen",3,"ngClass"],[1,"navbar","bg-base-100","shadow-md",3,"ngClass"],[1,"navbar-start","flex","items-center"],["aria-label","Toggle navigation",1,"lg:hidden","p-2","focus:outline-none",3,"click"],["class","w-6 h-6 text-gray-600","fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"btn","btn-ghost","normal-case","text-xl","ml-2"],[1,"navbar-center","hidden","lg:flex"],[1,"menu","menu-horizontal","px-1","space-x-4"],["routerLink","/user/dashboard"],[1,"fas","fa-home","mr-2"],["routerLink","/event/overview","routerLinkActive","text-primary",3,"routerLinkActiveOptions"],[1,"fas","fa-calendar","mr-2"],["routerLink","/forum/overview"],[1,"fas","fa-comments","mr-2"],["routerLink","/user/profile"],[1,"fas","fa-user","mr-2"],[1,"navbar-end"],[1,"btn","btn-primary",3,"click"],["class","lg:hidden z-20 absolute top-14 left-0 right-0 bg-base-100 shadow-lg",4,"ngIf"],[1,"flex-1","p-20","lg:p-20","p-4"],[1,"mb-6","flex","flex-col","md:flex-row","items-center","justify-between"],[1,"text-3xl","font-bold","text-base-content","mb-4","md:mb-0"],[1,"flex","ml-auto","space-x-4"],["routerLink","/event/manage",1,"btn","btn-primary"],["routerLink","/event/create",1,"btn","btn-secondary"],["class","text-base-content",4,"ngIf"],["class","space-y-4",4,"ngIf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16m-7 6h7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"lg:hidden","z-20","absolute","top-14","left-0","right-0","bg-base-100","shadow-lg"],[1,"menu","p-4","space-y-2"],["routerLink","/user/dashboard","routerLinkActive","text-primary",3,"click","routerLinkActiveOptions"],["routerLink","/event/overview",3,"click"],["routerLink","/forum/overview",3,"click"],["routerLink","/user/profile",3,"click"],[1,"text-base-content"],[1,"space-y-4"],["class","flex flex-col md:flex-row items-center bg-base-100 rounded-lg shadow-md overflow-hidden",4,"ngFor","ngForOf"],[1,"flex","flex-col","md:flex-row","items-center","bg-base-100","rounded-lg","shadow-md","overflow-hidden"],["alt","Event Image",1,"w-full","md:w-40","h-40","object-cover",3,"src"],[1,"p-4","flex-1",3,"routerLink"],[1,"text-lg","font-bold","text-base-content"],[1,"text-base-content","mb-2"],[1,"flex","items-center","justify-between"],[1,"text-base-content","flex","items-center"],[1,"fas","fa-users","mr-1"],[1,"hover:bg-success-dark","text-base-100","font-bold","py-2","px-4","rounded",3,"click"]],template:function(e,r){e&1&&(t(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),v("click",function(){return r.open=!r.open}),f(4,q,2,0,"svg",4)(5,J,2,0,"svg",4),n(),t(6,"a",5),l(7,"UrbanRoots"),n()(),t(8,"div",6)(9,"ul",7)(10,"li")(11,"a",8),c(12,"i",9),l(13," Home "),n()(),t(14,"li")(15,"a",10),c(16,"i",11),l(17," Events "),n()(),t(18,"li")(19,"a",12),c(20,"i",13),l(21," Forum "),n()(),t(22,"li")(23,"a",14),c(24,"i",15),l(25," Profile "),n()()()(),t(26,"div",16)(27,"button",17),v("click",function(){return r.logout()}),l(28,"Log Out"),n()()(),f(29,K,18,2,"div",18),t(30,"main",19)(31,"div",20)(32,"h1",21),l(33,"Events"),n(),t(34,"div",22)(35,"button",23),l(36," Manage Events "),n(),t(37,"button",24),l(38," Create Event "),n()()(),f(39,Q,2,0,"div",25)(40,X,2,1,"div",26),n()()),e&2&&(a("ngClass",_(8,G,!r.open)),s(),a("ngClass",_(10,H,!r.open)),s(3),a("ngIf",!r.open),s(),a("ngIf",r.open),s(10),a("routerLinkActiveOptions",E(12,R)),s(14),a("ngIf",r.open),s(10),a("ngIf",r.events.length===0),s(),a("ngIf",r.events.length>0))},dependencies:[A,M,T,V,F,j,D,U]})};export{P as EventOverviewComponent};
