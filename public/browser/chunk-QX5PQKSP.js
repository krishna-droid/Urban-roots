import{a as O}from"./chunk-6UOEEPEF.js";import{a as k}from"./chunk-KD2IJGWA.js";import{e as C,f as I,h as M,i as w,t as E,w as F}from"./chunk-PGUYAPD4.js";import{Ab as o,Bb as n,Gb as x,Lb as b,Nb as s,Vb as r,Wb as l,Xb as h,bc as y,db as a,dc as T,eb as d,fc as _,gc as S,h as u,na as f,tb as m,vb as c,wa as g,xa as v}from"./chunk-7ZC2CAVG.js";var j=t=>["/forum/edit-topic",t];function A(t,i){t&1&&(o(0,"div",7),r(1,"You haven't created any topics yet."),n())}function B(t,i){if(t&1){let e=x();o(0,"div",10)(1,"div",11)(2,"h3",12),r(3),n(),o(4,"p",13),r(5),_(6,"date"),n(),o(7,"p",14),r(8),n(),o(9,"div",15)(10,"a",16),r(11," Edit "),n(),o(12,"button",17),b("click",function(){let L=g(e).$implicit,N=s(2);return v(N.deleteTopic(L.id))}),r(13," Delete "),n()()()()}if(t&2){let e=i.$implicit;a(3),l(e.title),a(2),h("Created on: ",S(6,4,e.createdOn,"medium"),""),a(3),l(e.content),a(2),c("routerLink",T(7,j,e.id))}}function U(t,i){if(t&1&&(o(0,"div",8),m(1,B,14,9,"div",9),n()),t&2){let e=s();a(),c("ngForOf",e.myTopics)}}var D=class t{constructor(i,e){this.forumService=i;this.authService=e}myTopics=[];ngOnInit(){this.fetchMyTopics()}fetchMyTopics(){return u(this,null,function*(){let i=this.authService.getUserId();i?this.myTopics=yield this.forumService.getTopicsCreatedByUser(i):console.error("User not authenticated. Cannot fetch topics.")})}deleteTopic(i){confirm("Are you sure you want to delete this topic?")&&this.forumService.deleteTopic(i).then(()=>{this.myTopics=this.myTopics.filter(e=>e.id!==i)}).catch(e=>{console.error("Error deleting topic:",e)})}static \u0275fac=function(e){return new(e||t)(d(O),d(k))};static \u0275cmp=f({type:t,selectors:[["app-manage-topic"]],standalone:!0,features:[y],decls:10,vars:2,consts:[[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold"],["routerLink","/forum/create-topic",1,"bg-primary","hover:bg-primary-focus","text-base-100","font-bold","py-2","px-4","rounded"],["class","text-base-content",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 gap-4",4,"ngIf"],["routerLink","/forum/overview",1,"mt-4","bg-base-300","hover:bg-base-400","text-base-content","font-bold","py-2","px-4","rounded"],[1,"text-base-content"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-base-100 rounded-lg shadow-md overflow-hidden",4,"ngFor","ngForOf"],[1,"bg-base-100","rounded-lg","shadow-md","overflow-hidden"],[1,"p-4"],[1,"text-lg","font-bold"],[1,"text-base-content","mb-2"],[1,"text-base-content","line-clamp-3"],[1,"flex","justify-end","mt-2"],[1,"bg-secondary","hover:bg-secondary-focus","text-base-100","font-bold","py-2","px-4","rounded","mr-2",3,"routerLink"],[1,"bg-error","hover:bg-error-focus","text-base-100","font-bold","py-2","px-4","rounded",3,"click"]],template:function(e,p){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"Manage Your Topics"),n(),o(4,"button",3),r(5," Create New Topic "),n()(),m(6,A,2,0,"div",4)(7,U,2,1,"div",5),o(8,"button",6),r(9," Back to Forum "),n()()),e&2&&(a(6),c("ngIf",p.myTopics.length===0),a(),c("ngIf",p.myTopics.length>0))},dependencies:[E,F,w,C,I,M]})};export{D as ManageTopicComponent};
