import{b as j}from"./chunk-2FKGSZ6Y.js";import{n as F}from"./chunk-3XLOQSKB.js";import{a as k}from"./chunk-KD2IJGWA.js";import{e as I,f as C,i as M,t as w,w as E}from"./chunk-PGUYAPD4.js";import{Ab as i,Bb as r,Cb as x,Gb as h,Lb as y,Nb as l,Vb as o,Wb as G,Yb as b,_a as v,bc as _,db as a,dc as S,eb as c,h as p,na as g,tb as m,vb as d,wa as f,xa as u}from"./chunk-7ZC2CAVG.js";var T=n=>["/garden/edit",n];function D(n,t){n&1&&(i(0,"div",6),o(1,"You haven't created any gardens yet."),r())}function N(n,t){if(n&1){let e=h();i(0,"div",9),x(1,"img",10),i(2,"div",11)(3,"h3",12),o(4),r(),i(5,"p",13),o(6),r(),i(7,"div",14)(8,"button",15),o(9," Edit "),r(),i(10,"button",16),y("click",function(){let A=f(e).$implicit,L=l(2);return u(L.deleteGarden(A.id))}),o(11," Delete "),r()()()()}if(n&2){let e=t.$implicit;a(),d("src",e.images[0]||"path/to/default-garden-image.jpg",v),a(3),G(e.name),a(2),b("Location: ",e.location.latitude,", ",e.location.longitude,""),a(2),d("routerLink",S(5,T,e.id))}}function U(n,t){if(n&1&&(i(0,"div",7),m(1,N,12,7,"div",8),r()),n&2){let e=l();a(),d("ngForOf",e.myGardens)}}var O=class n{constructor(t,e){this.gardenService=t;this.authService=e}myGardens=[];ngOnInit(){this.fetchMyGardens()}fetchMyGardens(){return p(this,null,function*(){let t=this.authService.getUserId();t?this.myGardens=yield this.gardenService.getGardensByUserId(t):console.error("User not authenticated. Cannot fetch gardens.")})}editGarden(t){console.log("Edit garden:",t)}deleteGarden(t){confirm("Are you sure you want to delete this garden?")&&this.gardenService.deleteGarden(t).then(()=>{this.myGardens=this.myGardens.filter(e=>e.id!==t)}).catch(e=>{console.error("Error deleting garden:",e)})}static \u0275fac=function(e){return new(e||n)(c(j),c(k))};static \u0275cmp=g({type:n,selectors:[["app-manage-garden"]],standalone:!0,features:[_],decls:8,vars:2,consts:[[1,"container","mx-auto","p-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold","text-base-content"],["routerLink","/garden/upload-garden",1,"btn","btn-success"],["class","text-base-content",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-base-content"],[1,"space-y-4"],["class","flex bg-base-100 rounded-lg shadow-md overflow-hidden",4,"ngFor","ngForOf"],[1,"flex","bg-base-100","rounded-lg","shadow-md","overflow-hidden"],["alt","Garden Image",1,"w-40","h-40","object-cover",3,"src"],[1,"p-4","flex-1"],[1,"text-lg","font-bold","text-base-content"],[1,"text-base-content","mb-2"],[1,"flex","justify-end","space-x-2"],[1,"btn","btn-primary",3,"routerLink"],[1,"btn","btn-error",3,"click"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"h1",2),o(3,"Manage Your Gardens"),r(),i(4,"button",3),o(5," Add New Garden "),r()(),m(6,D,2,0,"div",4)(7,U,2,1,"div",5),r()),e&2&&(a(6),d("ngIf",s.myGardens.length===0),a(),d("ngIf",s.myGardens.length>0))},dependencies:[F,M,I,C,w,E]})};export{O as ManageGardenComponent};
